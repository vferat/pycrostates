# Python package
# Create and test a Python package on multiple Python versions.
# Add steps that analyze code, save the dist with the build record, publish to a PyPI-compatible index, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/python

trigger:
- 'main'

jobs:
- job: Linux
  timeoutInMinutes: 30
  pool:
   vmImage: 'ubuntu-latest'
  strategy:
    matrix:
      Python37:
        python.version: '3.7'
      Python38:
        python.version: '3.8'
      Python39:
        python.version: '3.9'
      Python310:
        python.version: '3.10'
  steps:
    - template: azure-pipelines-steps.yml

- job: Windows
  timeoutInMinutes: 30
  pool:
   vmImage: 'windows-latest'
  strategy:
    matrix:
      Python37:
        python.version: '3.7'
      Python38:
        python.version: '3.8'
      Python39:
        python.version: '3.9'
      Python310:
        python.version: '3.10'
  steps:
    - template: azure-pipelines-steps.yml

- job: macOS
  timeoutInMinutes: 30
  pool:
   vmImage: 'macOS-latest'
  strategy:
    matrix:
      Python37:
        python.version: '3.7'
      Python38:
        python.version: '3.8'
      Python39:
        python.version: '3.9'
      Python310:
        python.version: '3.10'
  steps:
    - template: azure-pipelines-steps.yml

- job: Linux_MNE_dev
  timeoutInMinutes: 30
  pool:
   vmImage: 'ubuntu-latest'
  strategy:
    matrix:
      Python39:
        python.version: '3.9'
  steps:
    - template: azure-pipelines-steps-mne.yml
